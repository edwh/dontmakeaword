{"version":3,"sources":["webpack:///./node_modules/@sentry/utils/esm/logger.js","webpack:///./node_modules/@sentry/utils/esm/string.js","webpack:///./node_modules/@sentry/utils/esm/polyfill.js","webpack:///./node_modules/@sentry/utils/esm/error.js","webpack:///./node_modules/@sentry/utils/esm/syncpromise.js","webpack:///./node_modules/@sentry/utils/esm/supports.js","webpack:///./node_modules/@sentry/utils/esm/misc.js","webpack:///./node_modules/@sentry/utils/esm/memo.js","webpack:///./node_modules/@sentry/utils/esm/is.js","webpack:///./node_modules/@sentry/integrations/esm/dedupe.js","webpack:///./node_modules/@sentry/integrations/esm/extraerrordata.js","webpack:///./node_modules/@sentry/integrations/esm/reportingobserver.js","webpack:///./node_modules/@sentry/integrations/esm/vue.js","webpack:///./node_modules/@sentry/types/esm/severity.js","webpack:///./node_modules/@sentry/types/esm/status.js","webpack:///./node_modules/@sentry/utils/esm/promisebuffer.js","webpack:///./node_modules/@sentry/utils/esm/dsn.js","webpack:///./node_modules/@sentry/utils/esm/instrument.js","webpack:///./node_modules/@sentry/utils/esm/path.js","webpack:///./node_modules/@sentry/integrations/esm/rewriteframes.js","webpack:///./node_modules/@sentry/minimal/esm/index.js","webpack:///./node_modules/@sentry/utils/esm/object.js"],"names":["global","PREFIX","Logger","this","_enabled","prototype","disable","enable","log","args","_i","arguments","length","console","join","warn","error","__SENTRY__","logger","truncate","str","max","substr","snipLine","line","colno","newLine","ll","start","Math","end","min","slice","safeJoin","input","delimiter","Array","isArray","output","i","value","push","String","e","isMatchingPattern","pattern","test","indexOf","setPrototypeOf","Object","__proto__","obj","proto","prop","hasOwnProperty","_super","SentryError","message","_newTarget","constructor","_this","call","name","Error","States","SyncPromise","executor","_state","PENDING","_handlers","_resolve","_setResult","RESOLVED","_reject","reason","REJECTED","state","then","_value","_executeHandlers","_attachHandler","handler","concat","cachedHandlers","forEach","done","onfulfilled","onrejected","toString","resolve","reject","_","all","collection","counter","resolvedCollection","item","index","TypeError","result","catch","val","finally","onfinally","isRejected","supportsFetch","Headers","Request","Response","isNativeFetch","func","supportsNativeFetch","fetch","doc","document","createElement","sandbox","hidden","head","appendChild","contentWindow","removeChild","err","supportsReportingObserver","supportsReferrerPolicy","referrerPolicy","supportsHistory","chrome","isChromePackagedApp","app","runtime","hasHistoryApi","history","pushState","replaceState","isNodeEnv","process","fallbackGlobalObject","getGlobalObject","window","self","uuid4","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","num","v","replace","c","r","random","parseUrl","url","match","query","fragment","host","path","protocol","relative","getEventDescription","event","exception","values","type","event_id","consoleSandbox","callback","originalConsole","wrappedLevels","level","__sentry_original__","keys","addExceptionTypeValue","addExceptionMechanism","mechanism","key","_oO","getLocationHref","location","href","oO","htmlTreeAsString","elem","currentElem","out","height","len","sepLength","nextStr","_htmlElementAsString","parentNode","reverse","el","className","classes","attr","tagName","toLowerCase","id","split","attrWhitelist","getAttribute","INITIAL_TIME","Date","now","prevNow","performanceFallback","timeOrigin","crossPlatformPerformance","request","module","require","performance","undefined","timing","navigationStart","timestampWithMs","parseRetryAfterHeader","header","headerDelay","parseInt","isNaN","headerDate","parse","getFunctionName","fn","Memo","_hasWeakSet","WeakSet","_inner","memoize","has","add","unmemoize","delete","splice","isError","wat","isInstanceOf","isErrorEvent","isDOMError","isDOMException","isString","isPrimitive","isPlainObject","isEvent","Event","isElement","Element","isRegExp","isThenable","Boolean","isSyntheticEvent","base","_e","Dedupe","setupOnce","addGlobalEventProcessor","getCurrentHub","currentEvent","getIntegration","_shouldDropEvent","_previousEvent","previousEvent","_isSameMessageEvent","_isSameExceptionEvent","currentMessage","previousMessage","_isSameFingerprint","_isSameStacktrace","_getFramesFromEvent","stacktrace","frames","currentFrames","previousFrames","frameA","frameB","filename","lineno","function","_getExceptionFromEvent","previousException","currentException","currentFingerprint","fingerprint","previousFingerprint","ExtraErrorData","_options","depth","hint","enhanceEventWithErrorData","_a","originalException","errorData","_extractErrorData","contexts","normalizedErrorData","e_1","nativeKeys_1","errorKeys","getOwnPropertyNames","filter","extraErrorInfo","errorKeys_1","errorKeys_1_1","next","e_1_1","return","ReportTypes","ReportingObserver","types","Crash","Deprecation","Intervention","_getCurrentHub","bind","buffered","observe","reports","hub","_loop_1","report","withScope","scope","setExtra","label","details","body","plainBody","crashId","trim","captureMessage","reports_1","reports_1_1","Vue","options","_attachProps","_logErrors","_Vue","logErrors","attachProps","_formatComponentName","vm","$root","_isVue","$options","_componentTag","__file","config","oldOnError","errorHandler","info","metadata","componentName","propsData","lifecycleHook","setTimeout","setContext","captureException","util","Severity","fromString","Debug","Info","Warning","Fatal","Critical","Log","Status","fromHttpCode","code","Success","RateLimit","Invalid","Failed","Unknown","PromiseBuffer","_limit","_buffer","isReady","task","remove","drain","timeout","capturedSetTimeout","clearTimeout","DSN_REGEX","Dsn","from","_fromString","_fromComponents","_validate","withPassword","pass","port","projectId","user","exec","_b","_c","pop","components","component","lastHref","handlers","instrumented","instrument","originalConsoleLevel","triggerHandlers","Function","apply","instrumentConsole","addEventListener","domEventHandler","keypressEventHandler","target","original","eventName","handleEvent","innerOriginal","__sentry_wrapped__","instrumentDOM","xhrproto","XMLHttpRequest","originalOpen","__sentry_xhr__","method","toUpperCase","__sentry_own_request__","originalSend","xhr","commonHandlerData","startTimestamp","readyState","status_code","status","endTimestamp","instrumentXHR","originalFetch","fetchData","getFetchMethod","getFetchUrl","response","instrumentFetch","oldOnPopState","onpopstate","historyReplacementFunction","originalHistoryFunction","to","instrumentHistory","_oldOnErrorHandler","onerror","msg","column","_oldOnUnhandledRejectionHandler","onunhandledrejection","addInstrumentationHandler","data","fetchArgs","keypressTimeout","lastCapturedEvent","debounceTimer","debounce","isContentEditable","normalizeArray","parts","allowAboveRoot","up","last","unshift","splitPathRe","splitPath","resolvedPath","resolvedAbsolute","charAt","p","RewriteFrames","_iteratee","frame","ext","f","isWindowsFrame","startsWithSlash","_root","fromParts","toParts","samePartsLength","outputParts","root","iteratee","_processExceptionsEvent","_processStacktraceEvent","map","_processStacktrace","callOnHub","syntheticException","captureEvent","configureScope","addBreadcrumb","breadcrumb","context","setExtras","extras","setTags","tags","extra","setTag","setUser","fill","source","replacement","wrapped","defineProperties","enumerable","_Oo","urlEncode","object","encodeURIComponent","getWalkSource","stack","event_1","currentTarget","CustomEvent","detail","jsonSize","encodeURI","utf8Length","JSON","stringify","normalizeToSize","maxSize","serialized","normalize","normalizeValue","_events","walk","memo","Infinity","normalized","serializeValue","toJSON","acc","innerKey","extractExceptionKeysForMessage","maxLength","sort","includedKeys"],"mappings":"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","file":"b7593772036faf26dfe0.js","sourcesContent":["import { consoleSandbox, getGlobalObject } from './misc';\n// TODO: Implement different loggers for different environments\nvar global = getGlobalObject();\n/** Prefix for logging strings */\nvar PREFIX = 'Sentry Logger ';\n/** JSDoc */\nvar Logger = /** @class */ (function () {\n    /** JSDoc */\n    function Logger() {\n        this._enabled = false;\n    }\n    /** JSDoc */\n    Logger.prototype.disable = function () {\n        this._enabled = false;\n    };\n    /** JSDoc */\n    Logger.prototype.enable = function () {\n        this._enabled = true;\n    };\n    /** JSDoc */\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.log(PREFIX + \"[Log]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.warn(PREFIX + \"[Warn]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.error(PREFIX + \"[Error]: \" + args.join(' ')); // tslint:disable-line:no-console\n        });\n    };\n    return Logger;\n}());\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nglobal.__SENTRY__ = global.__SENTRY__ || {};\nvar logger = global.__SENTRY__.logger || (global.__SENTRY__.logger = new Logger());\nexport { logger };\n//# sourceMappingURL=logger.js.map","import { isRegExp } from './is';\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function truncate(str, max) {\n    if (max === void 0) { max = 0; }\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof str !== 'string' || max === 0) {\n        return str;\n    }\n    return str.length <= max ? str : str.substr(0, max) + \"...\";\n}\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function snipLine(line, colno) {\n    var newLine = line;\n    var ll = newLine.length;\n    if (ll <= 150) {\n        return newLine;\n    }\n    if (colno > ll) {\n        colno = ll; // tslint:disable-line:no-parameter-reassignment\n    }\n    var start = Math.max(colno - 60, 0);\n    if (start < 5) {\n        start = 0;\n    }\n    var end = Math.min(start + 140, ll);\n    if (end > ll - 5) {\n        end = ll;\n    }\n    if (end === ll) {\n        start = Math.max(end - 140, 0);\n    }\n    newLine = newLine.slice(start, end);\n    if (start > 0) {\n        newLine = \"'{snip} \" + newLine;\n    }\n    if (end < ll) {\n        newLine += ' {snip}';\n    }\n    return newLine;\n}\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\nexport function safeJoin(input, delimiter) {\n    if (!Array.isArray(input)) {\n        return '';\n    }\n    var output = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < input.length; i++) {\n        var value = input[i];\n        try {\n            output.push(String(value));\n        }\n        catch (e) {\n            output.push('[value cannot be serialized]');\n        }\n    }\n    return output.join(delimiter);\n}\n/**\n * Checks if the value matches a regex or includes the string\n * @param value The string value to be checked against\n * @param pattern Either a regex or a string that must be contained in value\n */\nexport function isMatchingPattern(value, pattern) {\n    if (isRegExp(pattern)) {\n        return pattern.test(value);\n    }\n    if (typeof pattern === 'string') {\n        return value.indexOf(pattern) !== -1;\n    }\n    return false;\n}\n//# sourceMappingURL=string.js.map","export var setPrototypeOf = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties); // tslint:disable-line:no-unbound-method\n/**\n * setPrototypeOf polyfill using __proto__\n */\nfunction setProtoOf(obj, proto) {\n    // @ts-ignore\n    obj.__proto__ = proto;\n    return obj;\n}\n/**\n * setPrototypeOf polyfill using mixin\n */\nfunction mixinProperties(obj, proto) {\n    for (var prop in proto) {\n        if (!obj.hasOwnProperty(prop)) {\n            // @ts-ignore\n            obj[prop] = proto[prop];\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=polyfill.js.map","import * as tslib_1 from \"tslib\";\nimport { setPrototypeOf } from './polyfill';\n/** An error emitted by Sentry SDKs and related utilities. */\nvar SentryError = /** @class */ (function (_super) {\n    tslib_1.__extends(SentryError, _super);\n    function SentryError(message) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        // tslint:disable:no-unsafe-any\n        _this.name = _newTarget.prototype.constructor.name;\n        setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return SentryError;\n}(Error));\nexport { SentryError };\n//# sourceMappingURL=error.js.map","import { isThenable } from './is';\n/** SyncPromise internal states */\nvar States;\n(function (States) {\n    /** Pending */\n    States[\"PENDING\"] = \"PENDING\";\n    /** Resolved / OK */\n    States[\"RESOLVED\"] = \"RESOLVED\";\n    /** Rejected / Error */\n    States[\"REJECTED\"] = \"REJECTED\";\n})(States || (States = {}));\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nvar SyncPromise = /** @class */ (function () {\n    function SyncPromise(executor) {\n        var _this = this;\n        this._state = States.PENDING;\n        this._handlers = [];\n        /** JSDoc */\n        this._resolve = function (value) {\n            _this._setResult(States.RESOLVED, value);\n        };\n        /** JSDoc */\n        this._reject = function (reason) {\n            _this._setResult(States.REJECTED, reason);\n        };\n        /** JSDoc */\n        this._setResult = function (state, value) {\n            if (_this._state !== States.PENDING) {\n                return;\n            }\n            if (isThenable(value)) {\n                value.then(_this._resolve, _this._reject);\n                return;\n            }\n            _this._state = state;\n            _this._value = value;\n            _this._executeHandlers();\n        };\n        // TODO: FIXME\n        /** JSDoc */\n        this._attachHandler = function (handler) {\n            _this._handlers = _this._handlers.concat(handler);\n            _this._executeHandlers();\n        };\n        /** JSDoc */\n        this._executeHandlers = function () {\n            if (_this._state === States.PENDING) {\n                return;\n            }\n            var cachedHandlers = _this._handlers.slice();\n            _this._handlers = [];\n            cachedHandlers.forEach(function (handler) {\n                if (handler.done) {\n                    return;\n                }\n                if (_this._state === States.RESOLVED) {\n                    if (handler.onfulfilled) {\n                        handler.onfulfilled(_this._value);\n                    }\n                }\n                if (_this._state === States.REJECTED) {\n                    if (handler.onrejected) {\n                        handler.onrejected(_this._value);\n                    }\n                }\n                handler.done = true;\n            });\n        };\n        try {\n            executor(this._resolve, this._reject);\n        }\n        catch (e) {\n            this._reject(e);\n        }\n    }\n    /** JSDoc */\n    SyncPromise.prototype.toString = function () {\n        return '[object SyncPromise]';\n    };\n    /** JSDoc */\n    SyncPromise.resolve = function (value) {\n        return new SyncPromise(function (resolve) {\n            resolve(value);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.reject = function (reason) {\n        return new SyncPromise(function (_, reject) {\n            reject(reason);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.all = function (collection) {\n        return new SyncPromise(function (resolve, reject) {\n            if (!Array.isArray(collection)) {\n                reject(new TypeError(\"Promise.all requires an array as input.\"));\n                return;\n            }\n            if (collection.length === 0) {\n                resolve([]);\n                return;\n            }\n            var counter = collection.length;\n            var resolvedCollection = [];\n            collection.forEach(function (item, index) {\n                SyncPromise.resolve(item)\n                    .then(function (value) {\n                    resolvedCollection[index] = value;\n                    counter -= 1;\n                    if (counter !== 0) {\n                        return;\n                    }\n                    resolve(resolvedCollection);\n                })\n                    .then(null, reject);\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.then = function (onfulfilled, onrejected) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            _this._attachHandler({\n                done: false,\n                onfulfilled: function (result) {\n                    if (!onfulfilled) {\n                        // TODO: \\_()_/\n                        // TODO: FIXME\n                        resolve(result);\n                        return;\n                    }\n                    try {\n                        resolve(onfulfilled(result));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n                onrejected: function (reason) {\n                    if (!onrejected) {\n                        reject(reason);\n                        return;\n                    }\n                    try {\n                        resolve(onrejected(reason));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.catch = function (onrejected) {\n        return this.then(function (val) { return val; }, onrejected);\n    };\n    /** JSDoc */\n    SyncPromise.prototype.finally = function (onfinally) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            var val;\n            var isRejected;\n            return _this.then(function (value) {\n                isRejected = false;\n                val = value;\n                if (onfinally) {\n                    onfinally();\n                }\n            }, function (reason) {\n                isRejected = true;\n                val = reason;\n                if (onfinally) {\n                    onfinally();\n                }\n            }).then(function () {\n                if (isRejected) {\n                    reject(val);\n                    return;\n                }\n                resolve(val);\n            });\n        });\n    };\n    return SyncPromise;\n}());\nexport { SyncPromise };\n//# sourceMappingURL=syncpromise.js.map","import { logger } from './logger';\nimport { getGlobalObject } from './misc';\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsErrorEvent() {\n    try {\n        // tslint:disable:no-unused-expression\n        new ErrorEvent('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMError() {\n    try {\n        // It really needs 1 argument, not 0.\n        // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n        // 1 argument required, but only 0 present.\n        // @ts-ignore\n        // tslint:disable:no-unused-expression\n        new DOMError('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMException() {\n    try {\n        // tslint:disable:no-unused-expression\n        new DOMException('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsFetch() {\n    if (!('fetch' in getGlobalObject())) {\n        return false;\n    }\n    try {\n        // tslint:disable-next-line:no-unused-expression\n        new Headers();\n        // tslint:disable-next-line:no-unused-expression\n        new Request('');\n        // tslint:disable-next-line:no-unused-expression\n        new Response();\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * isNativeFetch checks if the given function is a native implementation of fetch()\n */\nfunction isNativeFetch(func) {\n    return func && /^function fetch\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n}\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nexport function supportsNativeFetch() {\n    if (!supportsFetch()) {\n        return false;\n    }\n    var global = getGlobalObject();\n    // Fast path to avoid DOM I/O\n    // tslint:disable-next-line:no-unbound-method\n    if (isNativeFetch(global.fetch)) {\n        return true;\n    }\n    // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n    // so create a \"pure\" iframe to see if that has native fetch\n    var result = false;\n    var doc = global.document;\n    // tslint:disable-next-line:no-unbound-method deprecation\n    if (doc && typeof doc.createElement === \"function\") {\n        try {\n            var sandbox = doc.createElement('iframe');\n            sandbox.hidden = true;\n            doc.head.appendChild(sandbox);\n            if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n                // tslint:disable-next-line:no-unbound-method\n                result = isNativeFetch(sandbox.contentWindow.fetch);\n            }\n            doc.head.removeChild(sandbox);\n        }\n        catch (err) {\n            logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n        }\n    }\n    return result;\n}\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReportingObserver() {\n    // tslint:disable-next-line: no-unsafe-any\n    return 'ReportingObserver' in getGlobalObject();\n}\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReferrerPolicy() {\n    // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n    // https://caniuse.com/#feat=referrer-policy\n    // It doesn't. And it throw exception instead of ignoring this parameter...\n    // REF: https://github.com/getsentry/raven-js/issues/1233\n    if (!supportsFetch()) {\n        return false;\n    }\n    try {\n        // tslint:disable:no-unused-expression\n        new Request('_', {\n            referrerPolicy: 'origin',\n        });\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsHistory() {\n    // NOTE: in Chrome App environment, touching history.pushState, *even inside\n    //       a try/catch block*, will cause Chrome to output an error to console.error\n    // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n    var global = getGlobalObject();\n    var chrome = global.chrome;\n    // tslint:disable-next-line:no-unsafe-any\n    var isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    var hasHistoryApi = 'history' in global && !!global.history.pushState && !!global.history.replaceState;\n    return !isChromePackagedApp && hasHistoryApi;\n}\n//# sourceMappingURL=supports.js.map","import { isString } from './is';\nimport { snipLine } from './string';\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\nexport function dynamicRequire(mod, request) {\n    // tslint:disable-next-line: no-unsafe-any\n    return mod.require(request);\n}\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv() {\n    // tslint:disable:strict-type-predicates\n    return Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n}\nvar fallbackGlobalObject = {};\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject() {\n    return (isNodeEnv()\n        ? global\n        : typeof window !== 'undefined'\n            ? window\n            : typeof self !== 'undefined'\n                ? self\n                : fallbackGlobalObject);\n}\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4() {\n    var global = getGlobalObject();\n    var crypto = global.crypto || global.msCrypto;\n    if (!(crypto === void 0) && crypto.getRandomValues) {\n        // Use window.crypto API if available\n        var arr = new Uint16Array(8);\n        crypto.getRandomValues(arr);\n        // set 4 in byte 7\n        // tslint:disable-next-line:no-bitwise\n        arr[3] = (arr[3] & 0xfff) | 0x4000;\n        // set 2 most significant bits of byte 9 to '10'\n        // tslint:disable-next-line:no-bitwise\n        arr[4] = (arr[4] & 0x3fff) | 0x8000;\n        var pad = function (num) {\n            var v = num.toString(16);\n            while (v.length < 4) {\n                v = \"0\" + v;\n            }\n            return v;\n        };\n        return (pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7]));\n    }\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        // tslint:disable-next-line:no-bitwise\n        var r = (Math.random() * 16) | 0;\n        // tslint:disable-next-line:no-bitwise\n        var v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(url) {\n    if (!url) {\n        return {};\n    }\n    var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n    if (!match) {\n        return {};\n    }\n    // coerce to undefined values to empty string so we don't get 'undefined'\n    var query = match[6] || '';\n    var fragment = match[8] || '';\n    return {\n        host: match[4],\n        path: match[5],\n        protocol: match[2],\n        relative: match[5] + query + fragment,\n    };\n}\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event) {\n    if (event.message) {\n        return event.message;\n    }\n    if (event.exception && event.exception.values && event.exception.values[0]) {\n        var exception = event.exception.values[0];\n        if (exception.type && exception.value) {\n            return exception.type + \": \" + exception.value;\n        }\n        return exception.type || exception.value || event.event_id || '<unknown>';\n    }\n    return event.event_id || '<unknown>';\n}\n/** JSDoc */\nexport function consoleSandbox(callback) {\n    var global = getGlobalObject();\n    var levels = ['debug', 'info', 'warn', 'error', 'log', 'assert'];\n    if (!('console' in global)) {\n        return callback();\n    }\n    var originalConsole = global.console;\n    var wrappedLevels = {};\n    // Restore all wrapped console methods\n    levels.forEach(function (level) {\n        if (level in global.console && originalConsole[level].__sentry_original__) {\n            wrappedLevels[level] = originalConsole[level];\n            originalConsole[level] = originalConsole[level].__sentry_original__;\n        }\n    });\n    // Perform callback manipulations\n    var result = callback();\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(function (level) {\n        originalConsole[level] = wrappedLevels[level];\n    });\n    return result;\n}\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event, value, type) {\n    event.exception = event.exception || {};\n    event.exception.values = event.exception.values || [];\n    event.exception.values[0] = event.exception.values[0] || {};\n    event.exception.values[0].value = event.exception.values[0].value || value || '';\n    event.exception.values[0].type = event.exception.values[0].type || type || 'Error';\n}\n/**\n * Adds exception mechanism to a given event.\n * @param event The event to modify.\n * @param mechanism Mechanism of the mechanism.\n * @hidden\n */\nexport function addExceptionMechanism(event, mechanism) {\n    if (mechanism === void 0) { mechanism = {}; }\n    // TODO: Use real type with `keyof Mechanism` thingy and maybe make it better?\n    try {\n        // @ts-ignore\n        // tslint:disable:no-non-null-assertion\n        event.exception.values[0].mechanism = event.exception.values[0].mechanism || {};\n        Object.keys(mechanism).forEach(function (key) {\n            // @ts-ignore\n            event.exception.values[0].mechanism[key] = mechanism[key];\n        });\n    }\n    catch (_oO) {\n        // no-empty\n    }\n}\n/**\n * A safe form of location.href\n */\nexport function getLocationHref() {\n    try {\n        return document.location.href;\n    }\n    catch (oO) {\n        return '';\n    }\n}\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(elem) {\n    // try/catch both:\n    // - accessing event.target (see getsentry/raven-js#838, #768)\n    // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n    // - can throw an exception in some circumstances.\n    try {\n        var currentElem = elem;\n        var MAX_TRAVERSE_HEIGHT = 5;\n        var MAX_OUTPUT_LEN = 80;\n        var out = [];\n        var height = 0;\n        var len = 0;\n        var separator = ' > ';\n        var sepLength = separator.length;\n        var nextStr = void 0;\n        while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n            nextStr = _htmlElementAsString(currentElem);\n            // bail out if\n            // - nextStr is the 'html' element\n            // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n            //   (ignore this limit if we are on the first iteration)\n            if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n                break;\n            }\n            out.push(nextStr);\n            len += nextStr.length;\n            currentElem = currentElem.parentNode;\n        }\n        return out.reverse().join(separator);\n    }\n    catch (_oO) {\n        return '<unknown>';\n    }\n}\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el) {\n    var elem = el;\n    var out = [];\n    var className;\n    var classes;\n    var key;\n    var attr;\n    var i;\n    if (!elem || !elem.tagName) {\n        return '';\n    }\n    out.push(elem.tagName.toLowerCase());\n    if (elem.id) {\n        out.push(\"#\" + elem.id);\n    }\n    className = elem.className;\n    if (className && isString(className)) {\n        classes = className.split(/\\s+/);\n        for (i = 0; i < classes.length; i++) {\n            out.push(\".\" + classes[i]);\n        }\n    }\n    var attrWhitelist = ['type', 'name', 'title', 'alt'];\n    for (i = 0; i < attrWhitelist.length; i++) {\n        key = attrWhitelist[i];\n        attr = elem.getAttribute(key);\n        if (attr) {\n            out.push(\"[\" + key + \"=\\\"\" + attr + \"\\\"]\");\n        }\n    }\n    return out.join('');\n}\nvar INITIAL_TIME = Date.now();\nvar prevNow = 0;\nvar performanceFallback = {\n    now: function () {\n        var now = Date.now() - INITIAL_TIME;\n        if (now < prevNow) {\n            now = prevNow;\n        }\n        prevNow = now;\n        return now;\n    },\n    timeOrigin: INITIAL_TIME,\n};\nexport var crossPlatformPerformance = (function () {\n    if (isNodeEnv()) {\n        try {\n            var perfHooks = dynamicRequire(module, 'perf_hooks');\n            return perfHooks.performance;\n        }\n        catch (_) {\n            return performanceFallback;\n        }\n    }\n    if (getGlobalObject().performance) {\n        // Polyfill for performance.timeOrigin.\n        //\n        // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n        // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n        // tslint:disable-next-line:strict-type-predicates\n        if (performance.timeOrigin === undefined) {\n            // As of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always a\n            // valid fallback. In the absence of a initial time provided by the browser, fallback to INITIAL_TIME.\n            // @ts-ignore\n            // tslint:disable-next-line:deprecation\n            performance.timeOrigin = (performance.timing && performance.timing.navigationStart) || INITIAL_TIME;\n        }\n    }\n    return getGlobalObject().performance || performanceFallback;\n})();\n/**\n * Returns a timestamp in seconds with milliseconds precision since the UNIX epoch calculated with the monotonic clock.\n */\nexport function timestampWithMs() {\n    return (crossPlatformPerformance.timeOrigin + crossPlatformPerformance.now()) / 1000;\n}\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nvar SEMVER_REGEXP = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input) {\n    var match = input.match(SEMVER_REGEXP) || [];\n    var major = parseInt(match[1], 10);\n    var minor = parseInt(match[2], 10);\n    var patch = parseInt(match[3], 10);\n    return {\n        buildmetadata: match[5],\n        major: isNaN(major) ? undefined : major,\n        minor: isNaN(minor) ? undefined : minor,\n        patch: isNaN(patch) ? undefined : patch,\n        prerelease: match[4],\n    };\n}\nvar defaultRetryAfter = 60 * 1000; // 60 seconds\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param now current unix timestamp\n * @param header string representation of 'Retry-After' header\n */\nexport function parseRetryAfterHeader(now, header) {\n    if (!header) {\n        return defaultRetryAfter;\n    }\n    var headerDelay = parseInt(\"\" + header, 10);\n    if (!isNaN(headerDelay)) {\n        return headerDelay * 1000;\n    }\n    var headerDate = Date.parse(\"\" + header);\n    if (!isNaN(headerDate)) {\n        return headerDate - now;\n    }\n    return defaultRetryAfter;\n}\nvar defaultFunctionName = '<anonymous>';\n/**\n * Safely extract function name from itself\n */\nexport function getFunctionName(fn) {\n    try {\n        if (!fn || typeof fn !== 'function') {\n            return defaultFunctionName;\n        }\n        return fn.name || defaultFunctionName;\n    }\n    catch (e) {\n        // Just accessing custom props in some Selenium environments\n        // can cause a \"Permission denied\" exception (see raven-js#495).\n        return defaultFunctionName;\n    }\n}\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines, frame, linesOfContext) {\n    if (linesOfContext === void 0) { linesOfContext = 5; }\n    var lineno = frame.lineno || 0;\n    var maxLines = lines.length;\n    var sourceLine = Math.max(Math.min(maxLines, lineno - 1), 0);\n    frame.pre_context = lines\n        .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n        .map(function (line) { return snipLine(line, 0); });\n    frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n    frame.post_context = lines\n        .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n        .map(function (line) { return snipLine(line, 0); });\n}\n//# sourceMappingURL=misc.js.map","// tslint:disable:no-unsafe-any\n/**\n * Memo class used for decycle json objects. Uses WeakSet if available otherwise array.\n */\nvar Memo = /** @class */ (function () {\n    function Memo() {\n        // tslint:disable-next-line\n        this._hasWeakSet = typeof WeakSet === 'function';\n        this._inner = this._hasWeakSet ? new WeakSet() : [];\n    }\n    /**\n     * Sets obj to remember.\n     * @param obj Object to remember\n     */\n    Memo.prototype.memoize = function (obj) {\n        if (this._hasWeakSet) {\n            if (this._inner.has(obj)) {\n                return true;\n            }\n            this._inner.add(obj);\n            return false;\n        }\n        // tslint:disable-next-line:prefer-for-of\n        for (var i = 0; i < this._inner.length; i++) {\n            var value = this._inner[i];\n            if (value === obj) {\n                return true;\n            }\n        }\n        this._inner.push(obj);\n        return false;\n    };\n    /**\n     * Removes object from internal storage.\n     * @param obj Object to forget\n     */\n    Memo.prototype.unmemoize = function (obj) {\n        if (this._hasWeakSet) {\n            this._inner.delete(obj);\n        }\n        else {\n            for (var i = 0; i < this._inner.length; i++) {\n                if (this._inner[i] === obj) {\n                    this._inner.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    };\n    return Memo;\n}());\nexport { Memo };\n//# sourceMappingURL=memo.js.map","/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat) {\n    switch (Object.prototype.toString.call(wat)) {\n        case '[object Error]':\n            return true;\n        case '[object Exception]':\n            return true;\n        case '[object DOMException]':\n            return true;\n        default:\n            return isInstanceOf(wat, Error);\n    }\n}\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat) {\n    return Object.prototype.toString.call(wat) === '[object ErrorEvent]';\n}\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMError]';\n}\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMException]';\n}\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat) {\n    return Object.prototype.toString.call(wat) === '[object String]';\n}\n/**\n * Checks whether given value's is a primitive (undefined, null, number, boolean, string)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat) {\n    return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat) {\n    return Object.prototype.toString.call(wat) === '[object Object]';\n}\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat) {\n    // tslint:disable-next-line:strict-type-predicates\n    return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat) {\n    // tslint:disable-next-line:strict-type-predicates\n    return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat) {\n    return Object.prototype.toString.call(wat) === '[object RegExp]';\n}\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat) {\n    // tslint:disable:no-unsafe-any\n    return Boolean(wat && wat.then && typeof wat.then === 'function');\n    // tslint:enable:no-unsafe-any\n}\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat) {\n    // tslint:disable-next-line:no-unsafe-any\n    return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat, base) {\n    try {\n        // tslint:disable-next-line:no-unsafe-any\n        return wat instanceof base;\n    }\n    catch (_e) {\n        return false;\n    }\n}\n//# sourceMappingURL=is.js.map","/** Deduplication filter */\nvar Dedupe = /** @class */ (function () {\n    function Dedupe() {\n        /**\n         * @inheritDoc\n         */\n        this.name = Dedupe.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    Dedupe.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(function (currentEvent) {\n            var self = getCurrentHub().getIntegration(Dedupe);\n            if (self) {\n                // Juuust in case something goes wrong\n                try {\n                    if (self._shouldDropEvent(currentEvent, self._previousEvent)) {\n                        return null;\n                    }\n                }\n                catch (_oO) {\n                    return (self._previousEvent = currentEvent);\n                }\n                return (self._previousEvent = currentEvent);\n            }\n            return currentEvent;\n        });\n    };\n    /** JSDoc */\n    Dedupe.prototype._shouldDropEvent = function (currentEvent, previousEvent) {\n        if (!previousEvent) {\n            return false;\n        }\n        if (this._isSameMessageEvent(currentEvent, previousEvent)) {\n            return true;\n        }\n        if (this._isSameExceptionEvent(currentEvent, previousEvent)) {\n            return true;\n        }\n        return false;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameMessageEvent = function (currentEvent, previousEvent) {\n        var currentMessage = currentEvent.message;\n        var previousMessage = previousEvent.message;\n        // If neither event has a message property, they were both exceptions, so bail out\n        if (!currentMessage && !previousMessage) {\n            return false;\n        }\n        // If only one event has a stacktrace, but not the other one, they are not the same\n        if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n            return false;\n        }\n        if (currentMessage !== previousMessage) {\n            return false;\n        }\n        if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n            return false;\n        }\n        if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n            return false;\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._getFramesFromEvent = function (event) {\n        var exception = event.exception;\n        if (exception) {\n            try {\n                // @ts-ignore\n                return exception.values[0].stacktrace.frames;\n            }\n            catch (_oO) {\n                return undefined;\n            }\n        }\n        else if (event.stacktrace) {\n            return event.stacktrace.frames;\n        }\n        return undefined;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameStacktrace = function (currentEvent, previousEvent) {\n        var currentFrames = this._getFramesFromEvent(currentEvent);\n        var previousFrames = this._getFramesFromEvent(previousEvent);\n        // If neither event has a stacktrace, they are assumed to be the same\n        if (!currentFrames && !previousFrames) {\n            return true;\n        }\n        // If only one event has a stacktrace, but not the other one, they are not the same\n        if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n            return false;\n        }\n        currentFrames = currentFrames;\n        previousFrames = previousFrames;\n        // If number of frames differ, they are not the same\n        if (previousFrames.length !== currentFrames.length) {\n            return false;\n        }\n        // Otherwise, compare the two\n        for (var i = 0; i < previousFrames.length; i++) {\n            var frameA = previousFrames[i];\n            var frameB = currentFrames[i];\n            if (frameA.filename !== frameB.filename ||\n                frameA.lineno !== frameB.lineno ||\n                frameA.colno !== frameB.colno ||\n                frameA.function !== frameB.function) {\n                return false;\n            }\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._getExceptionFromEvent = function (event) {\n        return event.exception && event.exception.values && event.exception.values[0];\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameExceptionEvent = function (currentEvent, previousEvent) {\n        var previousException = this._getExceptionFromEvent(previousEvent);\n        var currentException = this._getExceptionFromEvent(currentEvent);\n        if (!previousException || !currentException) {\n            return false;\n        }\n        if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n            return false;\n        }\n        if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n            return false;\n        }\n        if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n            return false;\n        }\n        return true;\n    };\n    /** JSDoc */\n    Dedupe.prototype._isSameFingerprint = function (currentEvent, previousEvent) {\n        var currentFingerprint = currentEvent.fingerprint;\n        var previousFingerprint = previousEvent.fingerprint;\n        // If neither event has a fingerprint, they are assumed to be the same\n        if (!currentFingerprint && !previousFingerprint) {\n            return true;\n        }\n        // If only one event has a fingerprint, but not the other one, they are not the same\n        if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n            return false;\n        }\n        currentFingerprint = currentFingerprint;\n        previousFingerprint = previousFingerprint;\n        // Otherwise, compare the two\n        try {\n            return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n        }\n        catch (_oO) {\n            return false;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Dedupe.id = 'Dedupe';\n    return Dedupe;\n}());\nexport { Dedupe };\n//# sourceMappingURL=dedupe.js.map","import * as tslib_1 from \"tslib\";\nimport { isError, isPlainObject, logger, normalize } from '@sentry/utils';\n/** Patch toString calls to return proper name for wrapped functions */\nvar ExtraErrorData = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function ExtraErrorData(_options) {\n        if (_options === void 0) { _options = { depth: 3 }; }\n        this._options = _options;\n        /**\n         * @inheritDoc\n         */\n        this.name = ExtraErrorData.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    ExtraErrorData.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(function (event, hint) {\n            var self = getCurrentHub().getIntegration(ExtraErrorData);\n            if (!self) {\n                return event;\n            }\n            return self.enhanceEventWithErrorData(event, hint);\n        });\n    };\n    /**\n     * Attaches extracted information from the Error object to extra field in the Event\n     */\n    ExtraErrorData.prototype.enhanceEventWithErrorData = function (event, hint) {\n        var _a;\n        if (!hint || !hint.originalException || !isError(hint.originalException)) {\n            return event;\n        }\n        var name = hint.originalException.name || hint.originalException.constructor.name;\n        var errorData = this._extractErrorData(hint.originalException);\n        if (errorData) {\n            var contexts = tslib_1.__assign({}, event.contexts);\n            var normalizedErrorData = normalize(errorData, this._options.depth);\n            if (isPlainObject(normalizedErrorData)) {\n                contexts = tslib_1.__assign({}, event.contexts, (_a = {}, _a[name] = tslib_1.__assign({}, normalizedErrorData), _a));\n            }\n            return tslib_1.__assign({}, event, { contexts: contexts });\n        }\n        return event;\n    };\n    /**\n     * Extract extra information from the Error object\n     */\n    ExtraErrorData.prototype._extractErrorData = function (error) {\n        var e_1, _a;\n        var result = null;\n        // We are trying to enhance already existing event, so no harm done if it won't succeed\n        try {\n            var nativeKeys_1 = ['name', 'message', 'stack', 'line', 'column', 'fileName', 'lineNumber', 'columnNumber'];\n            var errorKeys = Object.getOwnPropertyNames(error).filter(function (key) { return nativeKeys_1.indexOf(key) === -1; });\n            if (errorKeys.length) {\n                var extraErrorInfo = {};\n                try {\n                    for (var errorKeys_1 = tslib_1.__values(errorKeys), errorKeys_1_1 = errorKeys_1.next(); !errorKeys_1_1.done; errorKeys_1_1 = errorKeys_1.next()) {\n                        var key = errorKeys_1_1.value;\n                        var value = error[key];\n                        if (isError(value)) {\n                            value = value.toString();\n                        }\n                        // tslint:disable:no-unsafe-any\n                        extraErrorInfo[key] = value;\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (errorKeys_1_1 && !errorKeys_1_1.done && (_a = errorKeys_1.return)) _a.call(errorKeys_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                result = extraErrorInfo;\n            }\n        }\n        catch (oO) {\n            logger.error('Unable to extract extra data from the Error object:', oO);\n        }\n        return result;\n    };\n    /**\n     * @inheritDoc\n     */\n    ExtraErrorData.id = 'ExtraErrorData';\n    return ExtraErrorData;\n}());\nexport { ExtraErrorData };\n//# sourceMappingURL=extraerrordata.js.map","import * as tslib_1 from \"tslib\";\nimport { getGlobalObject, supportsReportingObserver } from '@sentry/utils';\n/** JSDoc */\nvar ReportTypes;\n(function (ReportTypes) {\n    /** JSDoc */\n    ReportTypes[\"Crash\"] = \"crash\";\n    /** JSDoc */\n    ReportTypes[\"Deprecation\"] = \"deprecation\";\n    /** JSDoc */\n    ReportTypes[\"Intervention\"] = \"intervention\";\n})(ReportTypes || (ReportTypes = {}));\n/** Reporting API integration - https://w3c.github.io/reporting/ */\nvar ReportingObserver = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function ReportingObserver(_options) {\n        if (_options === void 0) { _options = {\n            types: [ReportTypes.Crash, ReportTypes.Deprecation, ReportTypes.Intervention],\n        }; }\n        this._options = _options;\n        /**\n         * @inheritDoc\n         */\n        this.name = ReportingObserver.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    ReportingObserver.prototype.setupOnce = function (_, getCurrentHub) {\n        // tslint:disable:no-unsafe-any\n        if (!supportsReportingObserver()) {\n            return;\n        }\n        this._getCurrentHub = getCurrentHub;\n        var observer = new (getGlobalObject()).ReportingObserver(this.handler.bind(this), {\n            buffered: true,\n            types: this._options.types,\n        });\n        observer.observe();\n    };\n    /**\n     * @inheritDoc\n     */\n    ReportingObserver.prototype.handler = function (reports) {\n        var e_1, _a;\n        var hub = this._getCurrentHub && this._getCurrentHub();\n        if (!hub || !hub.getIntegration(ReportingObserver)) {\n            return;\n        }\n        var _loop_1 = function (report) {\n            hub.withScope(function (scope) {\n                scope.setExtra('url', report.url);\n                var label = \"ReportingObserver [\" + report.type + \"]\";\n                var details = 'No details available';\n                if (report.body) {\n                    // Object.keys doesn't work on ReportBody, as all properties are inheirted\n                    var plainBody = {};\n                    // tslint:disable-next-line:forin\n                    for (var prop in report.body) {\n                        plainBody[prop] = report.body[prop];\n                    }\n                    scope.setExtra('body', plainBody);\n                    if (report.type === ReportTypes.Crash) {\n                        var body = report.body;\n                        // A fancy way to create a message out of crashId OR reason OR both OR fallback\n                        details = [body.crashId || '', body.reason || ''].join(' ').trim() || details;\n                    }\n                    else {\n                        var body = report.body;\n                        details = body.message || details;\n                    }\n                }\n                hub.captureMessage(label + \": \" + details);\n            });\n        };\n        try {\n            for (var reports_1 = tslib_1.__values(reports), reports_1_1 = reports_1.next(); !reports_1_1.done; reports_1_1 = reports_1.next()) {\n                var report = reports_1_1.value;\n                _loop_1(report);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (reports_1_1 && !reports_1_1.done && (_a = reports_1.return)) _a.call(reports_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    ReportingObserver.id = 'ReportingObserver';\n    return ReportingObserver;\n}());\nexport { ReportingObserver };\n//# sourceMappingURL=reportingobserver.js.map","import { getGlobalObject, isPlainObject, logger } from '@sentry/utils';\n/** JSDoc */\nvar Vue = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function Vue(options) {\n        if (options === void 0) { options = {}; }\n        /**\n         * @inheritDoc\n         */\n        this.name = Vue.id;\n        /**\n         * When set to false, Sentry will suppress reporting all props data\n         * from your Vue components for privacy concerns.\n         */\n        this._attachProps = true;\n        /**\n         * When set to true, original Vue's `logError` will be called as well.\n         * https://github.com/vuejs/vue/blob/c2b1cfe9ccd08835f2d99f6ce60f67b4de55187f/src/core/util/error.js#L38-L48\n         */\n        this._logErrors = false;\n        // tslint:disable-next-line: no-unsafe-any\n        this._Vue = options.Vue || getGlobalObject().Vue;\n        if (options.logErrors !== undefined) {\n            this._logErrors = options.logErrors;\n        }\n        if (options.attachProps === false) {\n            this._attachProps = false;\n        }\n    }\n    /** JSDoc */\n    Vue.prototype._formatComponentName = function (vm) {\n        // tslint:disable:no-unsafe-any\n        if (vm.$root === vm) {\n            return 'root instance';\n        }\n        var name = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;\n        return ((name ? \"component <\" + name + \">\" : 'anonymous component') +\n            (vm._isVue && vm.$options.__file ? \" at \" + vm.$options.__file : ''));\n    };\n    /**\n     * @inheritDoc\n     */\n    Vue.prototype.setupOnce = function (_, getCurrentHub) {\n        // tslint:disable:no-unsafe-any\n        var _this = this;\n        if (!this._Vue || !this._Vue.config) {\n            logger.error('VueIntegration is missing a Vue instance');\n            return;\n        }\n        var oldOnError = this._Vue.config.errorHandler;\n        this._Vue.config.errorHandler = function (error, vm, info) {\n            var metadata = {};\n            if (isPlainObject(vm)) {\n                metadata.componentName = _this._formatComponentName(vm);\n                if (_this._attachProps) {\n                    metadata.propsData = vm.$options.propsData;\n                }\n            }\n            if (info !== void 0) {\n                metadata.lifecycleHook = info;\n            }\n            if (getCurrentHub().getIntegration(Vue)) {\n                // This timeout makes sure that any breadcrumbs are recorded before sending it off the sentry\n                setTimeout(function () {\n                    getCurrentHub().withScope(function (scope) {\n                        scope.setContext('vue', metadata);\n                        getCurrentHub().captureException(error);\n                    });\n                });\n            }\n            if (typeof oldOnError === 'function') {\n                oldOnError.call(_this._Vue, error, vm, info);\n            }\n            if (_this._logErrors) {\n                _this._Vue.util.warn(\"Error in \" + info + \": \\\"\" + error.toString() + \"\\\"\", vm);\n                // tslint:disable-next-line:no-console\n                console.error(error);\n            }\n        };\n    };\n    /**\n     * @inheritDoc\n     */\n    Vue.id = 'Vue';\n    return Vue;\n}());\nexport { Vue };\n//# sourceMappingURL=vue.js.map","/** JSDoc */\nexport var Severity;\n(function (Severity) {\n    /** JSDoc */\n    Severity[\"Fatal\"] = \"fatal\";\n    /** JSDoc */\n    Severity[\"Error\"] = \"error\";\n    /** JSDoc */\n    Severity[\"Warning\"] = \"warning\";\n    /** JSDoc */\n    Severity[\"Log\"] = \"log\";\n    /** JSDoc */\n    Severity[\"Info\"] = \"info\";\n    /** JSDoc */\n    Severity[\"Debug\"] = \"debug\";\n    /** JSDoc */\n    Severity[\"Critical\"] = \"critical\";\n})(Severity || (Severity = {}));\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\n(function (Severity) {\n    /**\n     * Converts a string-based level into a {@link Severity}.\n     *\n     * @param level string representation of Severity\n     * @returns Severity\n     */\n    function fromString(level) {\n        switch (level) {\n            case 'debug':\n                return Severity.Debug;\n            case 'info':\n                return Severity.Info;\n            case 'warn':\n            case 'warning':\n                return Severity.Warning;\n            case 'error':\n                return Severity.Error;\n            case 'fatal':\n                return Severity.Fatal;\n            case 'critical':\n                return Severity.Critical;\n            case 'log':\n            default:\n                return Severity.Log;\n        }\n    }\n    Severity.fromString = fromString;\n})(Severity || (Severity = {}));\n//# sourceMappingURL=severity.js.map","/** The status of an event. */\nexport var Status;\n(function (Status) {\n    /** The status could not be determined. */\n    Status[\"Unknown\"] = \"unknown\";\n    /** The event was skipped due to configuration or callbacks. */\n    Status[\"Skipped\"] = \"skipped\";\n    /** The event was sent to Sentry successfully. */\n    Status[\"Success\"] = \"success\";\n    /** The client is currently rate limited and will try again later. */\n    Status[\"RateLimit\"] = \"rate_limit\";\n    /** The event could not be processed. */\n    Status[\"Invalid\"] = \"invalid\";\n    /** A server-side error ocurred during submission. */\n    Status[\"Failed\"] = \"failed\";\n})(Status || (Status = {}));\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\n(function (Status) {\n    /**\n     * Converts a HTTP status code into a {@link Status}.\n     *\n     * @param code The HTTP response status code.\n     * @returns The send status or {@link Status.Unknown}.\n     */\n    function fromHttpCode(code) {\n        if (code >= 200 && code < 300) {\n            return Status.Success;\n        }\n        if (code === 429) {\n            return Status.RateLimit;\n        }\n        if (code >= 400 && code < 500) {\n            return Status.Invalid;\n        }\n        if (code >= 500) {\n            return Status.Failed;\n        }\n        return Status.Unknown;\n    }\n    Status.fromHttpCode = fromHttpCode;\n})(Status || (Status = {}));\n//# sourceMappingURL=status.js.map","import { SentryError } from './error';\nimport { SyncPromise } from './syncpromise';\n/** A simple queue that holds promises. */\nvar PromiseBuffer = /** @class */ (function () {\n    function PromiseBuffer(_limit) {\n        this._limit = _limit;\n        /** Internal set of queued Promises */\n        this._buffer = [];\n    }\n    /**\n     * Says if the buffer is ready to take more requests\n     */\n    PromiseBuffer.prototype.isReady = function () {\n        return this._limit === undefined || this.length() < this._limit;\n    };\n    /**\n     * Add a promise to the queue.\n     *\n     * @param task Can be any PromiseLike<T>\n     * @returns The original promise.\n     */\n    PromiseBuffer.prototype.add = function (task) {\n        var _this = this;\n        if (!this.isReady()) {\n            return SyncPromise.reject(new SentryError('Not adding Promise due to buffer limit reached.'));\n        }\n        if (this._buffer.indexOf(task) === -1) {\n            this._buffer.push(task);\n        }\n        task\n            .then(function () { return _this.remove(task); })\n            .then(null, function () {\n            return _this.remove(task).then(null, function () {\n                // We have to add this catch here otherwise we have an unhandledPromiseRejection\n                // because it's a new Promise chain.\n            });\n        });\n        return task;\n    };\n    /**\n     * Remove a promise to the queue.\n     *\n     * @param task Can be any PromiseLike<T>\n     * @returns Removed promise.\n     */\n    PromiseBuffer.prototype.remove = function (task) {\n        var removedTask = this._buffer.splice(this._buffer.indexOf(task), 1)[0];\n        return removedTask;\n    };\n    /**\n     * This function returns the number of unresolved promises in the queue.\n     */\n    PromiseBuffer.prototype.length = function () {\n        return this._buffer.length;\n    };\n    /**\n     * This will drain the whole queue, returns true if queue is empty or drained.\n     * If timeout is provided and the queue takes longer to drain, the promise still resolves but with false.\n     *\n     * @param timeout Number in ms to wait until it resolves with false.\n     */\n    PromiseBuffer.prototype.drain = function (timeout) {\n        var _this = this;\n        return new SyncPromise(function (resolve) {\n            var capturedSetTimeout = setTimeout(function () {\n                if (timeout && timeout > 0) {\n                    resolve(false);\n                }\n            }, timeout);\n            SyncPromise.all(_this._buffer)\n                .then(function () {\n                clearTimeout(capturedSetTimeout);\n                resolve(true);\n            })\n                .then(null, function () {\n                resolve(true);\n            });\n        });\n    };\n    return PromiseBuffer;\n}());\nexport { PromiseBuffer };\n//# sourceMappingURL=promisebuffer.js.map","import * as tslib_1 from \"tslib\";\nimport { SentryError } from './error';\n/** Regular expression used to parse a Dsn. */\nvar DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+))?@)([\\w\\.-]+)(?::(\\d+))?\\/(.+)/;\n/** Error message */\nvar ERROR_MESSAGE = 'Invalid Dsn';\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nvar Dsn = /** @class */ (function () {\n    /** Creates a new Dsn component */\n    function Dsn(from) {\n        if (typeof from === 'string') {\n            this._fromString(from);\n        }\n        else {\n            this._fromComponents(from);\n        }\n        this._validate();\n    }\n    /**\n     * Renders the string representation of this Dsn.\n     *\n     * By default, this will render the public representation without the password\n     * component. To get the deprecated private representation, set `withPassword`\n     * to true.\n     *\n     * @param withPassword When set to true, the password will be included.\n     */\n    Dsn.prototype.toString = function (withPassword) {\n        if (withPassword === void 0) { withPassword = false; }\n        // tslint:disable-next-line:no-this-assignment\n        var _a = this, host = _a.host, path = _a.path, pass = _a.pass, port = _a.port, projectId = _a.projectId, protocol = _a.protocol, user = _a.user;\n        return (protocol + \"://\" + user + (withPassword && pass ? \":\" + pass : '') +\n            (\"@\" + host + (port ? \":\" + port : '') + \"/\" + (path ? path + \"/\" : path) + projectId));\n    };\n    /** Parses a string into this Dsn. */\n    Dsn.prototype._fromString = function (str) {\n        var match = DSN_REGEX.exec(str);\n        if (!match) {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n        var _a = tslib_1.__read(match.slice(1), 6), protocol = _a[0], user = _a[1], _b = _a[2], pass = _b === void 0 ? '' : _b, host = _a[3], _c = _a[4], port = _c === void 0 ? '' : _c, lastPath = _a[5];\n        var path = '';\n        var projectId = lastPath;\n        var split = projectId.split('/');\n        if (split.length > 1) {\n            path = split.slice(0, -1).join('/');\n            projectId = split.pop();\n        }\n        this._fromComponents({ host: host, pass: pass, path: path, projectId: projectId, port: port, protocol: protocol, user: user });\n    };\n    /** Maps Dsn components into this instance. */\n    Dsn.prototype._fromComponents = function (components) {\n        this.protocol = components.protocol;\n        this.user = components.user;\n        this.pass = components.pass || '';\n        this.host = components.host;\n        this.port = components.port || '';\n        this.path = components.path || '';\n        this.projectId = components.projectId;\n    };\n    /** Validates this Dsn and throws on error. */\n    Dsn.prototype._validate = function () {\n        var _this = this;\n        ['protocol', 'user', 'host', 'projectId'].forEach(function (component) {\n            if (!_this[component]) {\n                throw new SentryError(ERROR_MESSAGE);\n            }\n        });\n        if (this.protocol !== 'http' && this.protocol !== 'https') {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n        if (this.port && isNaN(parseInt(this.port, 10))) {\n            throw new SentryError(ERROR_MESSAGE);\n        }\n    };\n    return Dsn;\n}());\nexport { Dsn };\n//# sourceMappingURL=dsn.js.map","/* tslint:disable:only-arrow-functions no-unsafe-any */\nimport * as tslib_1 from \"tslib\";\nimport { isInstanceOf, isString } from './is';\nimport { logger } from './logger';\nimport { getFunctionName, getGlobalObject } from './misc';\nimport { fill } from './object';\nimport { supportsHistory, supportsNativeFetch } from './supports';\nvar global = getGlobalObject();\n/**\n * Instrument native APIs to call handlers that can be used to create breadcrumbs, APM spans etc.\n *  - Console API\n *  - Fetch API\n *  - XHR API\n *  - History API\n *  - DOM API (click/typing)\n *  - Error API\n *  - UnhandledRejection API\n */\nvar handlers = {};\nvar instrumented = {};\n/** Instruments given API */\nfunction instrument(type) {\n    if (instrumented[type]) {\n        return;\n    }\n    instrumented[type] = true;\n    switch (type) {\n        case 'console':\n            instrumentConsole();\n            break;\n        case 'dom':\n            instrumentDOM();\n            break;\n        case 'xhr':\n            instrumentXHR();\n            break;\n        case 'fetch':\n            instrumentFetch();\n            break;\n        case 'history':\n            instrumentHistory();\n            break;\n        case 'error':\n            instrumentError();\n            break;\n        case 'unhandledrejection':\n            instrumentUnhandledRejection();\n            break;\n        default:\n            logger.warn('unknown instrumentation type:', type);\n    }\n}\n/**\n * Add handler that will be called when given type of instrumentation triggers.\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nexport function addInstrumentationHandler(handler) {\n    // tslint:disable-next-line:strict-type-predicates\n    if (!handler || typeof handler.type !== 'string' || typeof handler.callback !== 'function') {\n        return;\n    }\n    handlers[handler.type] = handlers[handler.type] || [];\n    handlers[handler.type].push(handler.callback);\n    instrument(handler.type);\n}\n/** JSDoc */\nfunction triggerHandlers(type, data) {\n    var e_1, _a;\n    if (!type || !handlers[type]) {\n        return;\n    }\n    try {\n        for (var _b = tslib_1.__values(handlers[type] || []), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var handler = _c.value;\n            try {\n                handler(data);\n            }\n            catch (e) {\n                logger.error(\"Error while triggering instrumentation handler.\\nType: \" + type + \"\\nName: \" + getFunctionName(handler) + \"\\nError: \" + e);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\n/** JSDoc */\nfunction instrumentConsole() {\n    if (!('console' in global)) {\n        return;\n    }\n    ['debug', 'info', 'warn', 'error', 'log', 'assert'].forEach(function (level) {\n        if (!(level in global.console)) {\n            return;\n        }\n        fill(global.console, level, function (originalConsoleLevel) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                triggerHandlers('console', { args: args, level: level });\n                // this fails for some browsers. :(\n                if (originalConsoleLevel) {\n                    Function.prototype.apply.call(originalConsoleLevel, global.console, args);\n                }\n            };\n        });\n    });\n}\n/** JSDoc */\nfunction instrumentFetch() {\n    if (!supportsNativeFetch()) {\n        return;\n    }\n    fill(global, 'fetch', function (originalFetch) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var commonHandlerData = {\n                args: args,\n                fetchData: {\n                    method: getFetchMethod(args),\n                    url: getFetchUrl(args),\n                },\n                startTimestamp: Date.now(),\n            };\n            triggerHandlers('fetch', tslib_1.__assign({}, commonHandlerData));\n            return originalFetch.apply(global, args).then(function (response) {\n                triggerHandlers('fetch', tslib_1.__assign({}, commonHandlerData, { endTimestamp: Date.now(), response: response }));\n                return response;\n            }, function (error) {\n                triggerHandlers('fetch', tslib_1.__assign({}, commonHandlerData, { endTimestamp: Date.now(), error: error }));\n                throw error;\n            });\n        };\n    });\n}\n/** Extract `method` from fetch call arguments */\nfunction getFetchMethod(fetchArgs) {\n    if (fetchArgs === void 0) { fetchArgs = []; }\n    if ('Request' in global && isInstanceOf(fetchArgs[0], Request) && fetchArgs[0].method) {\n        return String(fetchArgs[0].method).toUpperCase();\n    }\n    if (fetchArgs[1] && fetchArgs[1].method) {\n        return String(fetchArgs[1].method).toUpperCase();\n    }\n    return 'GET';\n}\n/** Extract `url` from fetch call arguments */\nfunction getFetchUrl(fetchArgs) {\n    if (fetchArgs === void 0) { fetchArgs = []; }\n    if (typeof fetchArgs[0] === 'string') {\n        return fetchArgs[0];\n    }\n    if ('Request' in global && isInstanceOf(fetchArgs[0], Request)) {\n        return fetchArgs[0].url;\n    }\n    return String(fetchArgs[0]);\n}\n/** JSDoc */\nfunction instrumentXHR() {\n    if (!('XMLHttpRequest' in global)) {\n        return;\n    }\n    var xhrproto = XMLHttpRequest.prototype;\n    fill(xhrproto, 'open', function (originalOpen) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var url = args[1];\n            this.__sentry_xhr__ = {\n                method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n                url: args[1],\n            };\n            // if Sentry key appears in URL, don't capture it as a request\n            if (isString(url) && this.__sentry_xhr__.method === 'POST' && url.match(/sentry_key/)) {\n                this.__sentry_own_request__ = true;\n            }\n            return originalOpen.apply(this, args);\n        };\n    });\n    fill(xhrproto, 'send', function (originalSend) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var xhr = this; // tslint:disable-line:no-this-assignment\n            var commonHandlerData = {\n                args: args,\n                startTimestamp: Date.now(),\n                xhr: xhr,\n            };\n            triggerHandlers('xhr', tslib_1.__assign({}, commonHandlerData));\n            xhr.addEventListener('readystatechange', function () {\n                if (xhr.readyState === 4) {\n                    try {\n                        // touching statusCode in some platforms throws\n                        // an exception\n                        if (xhr.__sentry_xhr__) {\n                            xhr.__sentry_xhr__.status_code = xhr.status;\n                        }\n                    }\n                    catch (e) {\n                        /* do nothing */\n                    }\n                    triggerHandlers('xhr', tslib_1.__assign({}, commonHandlerData, { endTimestamp: Date.now() }));\n                }\n            });\n            return originalSend.apply(this, args);\n        };\n    });\n}\nvar lastHref;\n/** JSDoc */\nfunction instrumentHistory() {\n    if (!supportsHistory()) {\n        return;\n    }\n    var oldOnPopState = global.onpopstate;\n    global.onpopstate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var to = global.location.href;\n        // keep track of the current URL state, as we always receive only the updated state\n        var from = lastHref;\n        lastHref = to;\n        triggerHandlers('history', {\n            from: from,\n            to: to,\n        });\n        if (oldOnPopState) {\n            return oldOnPopState.apply(this, args);\n        }\n    };\n    /** @hidden */\n    function historyReplacementFunction(originalHistoryFunction) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var url = args.length > 2 ? args[2] : undefined;\n            if (url) {\n                // coerce to string (this is what pushState does)\n                var from = lastHref;\n                var to = String(url);\n                // keep track of the current URL state, as we always receive only the updated state\n                lastHref = to;\n                triggerHandlers('history', {\n                    from: from,\n                    to: to,\n                });\n            }\n            return originalHistoryFunction.apply(this, args);\n        };\n    }\n    fill(global.history, 'pushState', historyReplacementFunction);\n    fill(global.history, 'replaceState', historyReplacementFunction);\n}\n/** JSDoc */\nfunction instrumentDOM() {\n    if (!('document' in global)) {\n        return;\n    }\n    // Capture breadcrumbs from any click that is unhandled / bubbled up all the way\n    // to the document. Do this before we instrument addEventListener.\n    global.document.addEventListener('click', domEventHandler('click', triggerHandlers.bind(null, 'dom')), false);\n    global.document.addEventListener('keypress', keypressEventHandler(triggerHandlers.bind(null, 'dom')), false);\n    // After hooking into document bubbled up click and keypresses events, we also hook into user handled click & keypresses.\n    ['EventTarget', 'Node'].forEach(function (target) {\n        var proto = global[target] && global[target].prototype;\n        if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n            return;\n        }\n        fill(proto, 'addEventListener', function (original) {\n            return function (eventName, fn, options) {\n                if (fn && fn.handleEvent) {\n                    if (eventName === 'click') {\n                        fill(fn, 'handleEvent', function (innerOriginal) {\n                            return function (event) {\n                                domEventHandler('click', triggerHandlers.bind(null, 'dom'))(event);\n                                return innerOriginal.call(this, event);\n                            };\n                        });\n                    }\n                    if (eventName === 'keypress') {\n                        fill(fn, 'handleEvent', function (innerOriginal) {\n                            return function (event) {\n                                keypressEventHandler(triggerHandlers.bind(null, 'dom'))(event);\n                                return innerOriginal.call(this, event);\n                            };\n                        });\n                    }\n                }\n                else {\n                    if (eventName === 'click') {\n                        domEventHandler('click', triggerHandlers.bind(null, 'dom'), true)(this);\n                    }\n                    if (eventName === 'keypress') {\n                        keypressEventHandler(triggerHandlers.bind(null, 'dom'))(this);\n                    }\n                }\n                return original.call(this, eventName, fn, options);\n            };\n        });\n        fill(proto, 'removeEventListener', function (original) {\n            return function (eventName, fn, options) {\n                var callback = fn;\n                try {\n                    callback = callback && (callback.__sentry_wrapped__ || callback);\n                }\n                catch (e) {\n                    // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n                }\n                return original.call(this, eventName, callback, options);\n            };\n        });\n    });\n}\nvar debounceDuration = 1000;\nvar debounceTimer = 0;\nvar keypressTimeout;\nvar lastCapturedEvent;\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param name the event name (e.g. \"click\")\n * @param handler function that will be triggered\n * @param debounce decides whether it should wait till another event loop\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nfunction domEventHandler(name, handler, debounce) {\n    if (debounce === void 0) { debounce = false; }\n    return function (event) {\n        // reset keypress timeout; e.g. triggering a 'click' after\n        // a 'keypress' will reset the keypress debounce so that a new\n        // set of keypresses can be recorded\n        keypressTimeout = undefined;\n        // It's possible this handler might trigger multiple times for the same\n        // event (e.g. event propagation through node ancestors). Ignore if we've\n        // already captured the event.\n        if (!event || lastCapturedEvent === event) {\n            return;\n        }\n        lastCapturedEvent = event;\n        if (debounceTimer) {\n            clearTimeout(debounceTimer);\n        }\n        if (debounce) {\n            debounceTimer = setTimeout(function () {\n                handler({ event: event, name: name });\n            });\n        }\n        else {\n            handler({ event: event, name: name });\n        }\n    };\n}\n/**\n * Wraps addEventListener to capture keypress UI events\n * @param handler function that will be triggered\n * @returns wrapped keypress events handler\n * @hidden\n */\nfunction keypressEventHandler(handler) {\n    // TODO: if somehow user switches keypress target before\n    //       debounce timeout is triggered, we will only capture\n    //       a single breadcrumb from the FIRST target (acceptable?)\n    return function (event) {\n        var target;\n        try {\n            target = event.target;\n        }\n        catch (e) {\n            // just accessing event properties can throw an exception in some rare circumstances\n            // see: https://github.com/getsentry/raven-js/issues/838\n            return;\n        }\n        var tagName = target && target.tagName;\n        // only consider keypress events on actual input elements\n        // this will disregard keypresses targeting body (e.g. tabbing\n        // through elements, hotkeys, etc)\n        if (!tagName || (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && !target.isContentEditable)) {\n            return;\n        }\n        // record first keypress in a series, but ignore subsequent\n        // keypresses until debounce clears\n        if (!keypressTimeout) {\n            domEventHandler('input', handler)(event);\n        }\n        clearTimeout(keypressTimeout);\n        keypressTimeout = setTimeout(function () {\n            keypressTimeout = undefined;\n        }, debounceDuration);\n    };\n}\nvar _oldOnErrorHandler = null;\n/** JSDoc */\nfunction instrumentError() {\n    _oldOnErrorHandler = global.onerror;\n    global.onerror = function (msg, url, line, column, error) {\n        triggerHandlers('error', {\n            column: column,\n            error: error,\n            line: line,\n            msg: msg,\n            url: url,\n        });\n        if (_oldOnErrorHandler) {\n            return _oldOnErrorHandler.apply(this, arguments);\n        }\n        return false;\n    };\n}\nvar _oldOnUnhandledRejectionHandler = null;\n/** JSDoc */\nfunction instrumentUnhandledRejection() {\n    _oldOnUnhandledRejectionHandler = global.onunhandledrejection;\n    global.onunhandledrejection = function (e) {\n        triggerHandlers('unhandledrejection', e);\n        if (_oldOnUnhandledRejectionHandler) {\n            return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n        }\n        return true;\n    };\n}\n//# sourceMappingURL=instrument.js.map","// Slightly modified (no IE8 support, ES6) and transcribed to TypeScript\n// https://raw.githubusercontent.com/calvinmetcalf/rollup-plugin-node-builtins/master/src/es6/path.js\n/** JSDoc */\nfunction normalizeArray(parts, allowAboveRoot) {\n    // if the path tries to go above the root, `up` ends up > 0\n    var up = 0;\n    for (var i = parts.length - 1; i >= 0; i--) {\n        var last = parts[i];\n        if (last === '.') {\n            parts.splice(i, 1);\n        }\n        else if (last === '..') {\n            parts.splice(i, 1);\n            up++;\n        }\n        else if (up) {\n            parts.splice(i, 1);\n            up--;\n        }\n    }\n    // if the path is allowed to go above the root, restore leading ..s\n    if (allowAboveRoot) {\n        for (; up--; up) {\n            parts.unshift('..');\n        }\n    }\n    return parts;\n}\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\n/** JSDoc */\nfunction splitPath(filename) {\n    var parts = splitPathRe.exec(filename);\n    return parts ? parts.slice(1) : [];\n}\n// path.resolve([from ...], to)\n// posix version\n/** JSDoc */\nexport function resolve() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    for (var i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n        var path = i >= 0 ? args[i] : '/';\n        // Skip empty entries\n        if (!path) {\n            continue;\n        }\n        resolvedPath = path + \"/\" + resolvedPath;\n        resolvedAbsolute = path.charAt(0) === '/';\n    }\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n    // Normalize the path\n    resolvedPath = normalizeArray(resolvedPath.split('/').filter(function (p) { return !!p; }), !resolvedAbsolute).join('/');\n    return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n}\n/** JSDoc */\nfunction trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n        if (arr[start] !== '') {\n            break;\n        }\n    }\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n        if (arr[end] !== '') {\n            break;\n        }\n    }\n    if (start > end) {\n        return [];\n    }\n    return arr.slice(start, end - start + 1);\n}\n// path.relative(from, to)\n// posix version\n/** JSDoc */\nexport function relative(from, to) {\n    // tslint:disable:no-parameter-reassignment\n    from = resolve(from).substr(1);\n    to = resolve(to).substr(1);\n    var fromParts = trim(from.split('/'));\n    var toParts = trim(to.split('/'));\n    var length = Math.min(fromParts.length, toParts.length);\n    var samePartsLength = length;\n    for (var i = 0; i < length; i++) {\n        if (fromParts[i] !== toParts[i]) {\n            samePartsLength = i;\n            break;\n        }\n    }\n    var outputParts = [];\n    for (var i = samePartsLength; i < fromParts.length; i++) {\n        outputParts.push('..');\n    }\n    outputParts = outputParts.concat(toParts.slice(samePartsLength));\n    return outputParts.join('/');\n}\n// path.normalize(path)\n// posix version\n/** JSDoc */\nexport function normalizePath(path) {\n    var isPathAbsolute = isAbsolute(path);\n    var trailingSlash = path.substr(-1) === '/';\n    // Normalize the path\n    var normalizedPath = normalizeArray(path.split('/').filter(function (p) { return !!p; }), !isPathAbsolute).join('/');\n    if (!normalizedPath && !isPathAbsolute) {\n        normalizedPath = '.';\n    }\n    if (normalizedPath && trailingSlash) {\n        normalizedPath += '/';\n    }\n    return (isPathAbsolute ? '/' : '') + normalizedPath;\n}\n// posix version\n/** JSDoc */\nexport function isAbsolute(path) {\n    return path.charAt(0) === '/';\n}\n// posix version\n/** JSDoc */\nexport function join() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return normalizePath(args.join('/'));\n}\n/** JSDoc */\nexport function dirname(path) {\n    var result = splitPath(path);\n    var root = result[0];\n    var dir = result[1];\n    if (!root && !dir) {\n        // No dirname whatsoever\n        return '.';\n    }\n    if (dir) {\n        // It has a dirname, strip trailing slash\n        dir = dir.substr(0, dir.length - 1);\n    }\n    return root + dir;\n}\n/** JSDoc */\nexport function basename(path, ext) {\n    var f = splitPath(path)[2];\n    if (ext && f.substr(ext.length * -1) === ext) {\n        f = f.substr(0, f.length - ext.length);\n    }\n    return f;\n}\n//# sourceMappingURL=path.js.map","import * as tslib_1 from \"tslib\";\nimport { basename, relative } from '@sentry/utils';\n/** Rewrite event frames paths */\nvar RewriteFrames = /** @class */ (function () {\n    /**\n     * @inheritDoc\n     */\n    function RewriteFrames(options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        /**\n         * @inheritDoc\n         */\n        this.name = RewriteFrames.id;\n        /**\n         * @inheritDoc\n         */\n        this._iteratee = function (frame) {\n            if (!frame.filename) {\n                return frame;\n            }\n            // Check if the frame filename begins with `/` or a Windows-style prefix such as `C:\\`\n            var isWindowsFrame = /^[A-Z]:\\\\/.test(frame.filename);\n            var startsWithSlash = /^\\//.test(frame.filename);\n            if (frame.filename && (isWindowsFrame || startsWithSlash)) {\n                var filename = isWindowsFrame\n                    ? frame.filename\n                        .replace(/^[A-Z]:/, '') // remove Windows-style prefix\n                        .replace(/\\\\/g, '/') // replace all `\\\\` instances with `/`\n                    : frame.filename;\n                var base = _this._root ? relative(_this._root, filename) : basename(filename);\n                frame.filename = \"app:///\" + base;\n            }\n            return frame;\n        };\n        if (options.root) {\n            this._root = options.root;\n        }\n        if (options.iteratee) {\n            this._iteratee = options.iteratee;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    RewriteFrames.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(function (event) {\n            var self = getCurrentHub().getIntegration(RewriteFrames);\n            if (self) {\n                return self.process(event);\n            }\n            return event;\n        });\n    };\n    /** JSDoc */\n    RewriteFrames.prototype.process = function (event) {\n        if (event.exception && Array.isArray(event.exception.values)) {\n            return this._processExceptionsEvent(event);\n        }\n        if (event.stacktrace) {\n            return this._processStacktraceEvent(event);\n        }\n        return event;\n    };\n    /** JSDoc */\n    RewriteFrames.prototype._processExceptionsEvent = function (event) {\n        var _this = this;\n        try {\n            return tslib_1.__assign({}, event, { exception: tslib_1.__assign({}, event.exception, { \n                    // The check for this is performed inside `process` call itself, safe to skip here\n                    // tslint:disable-next-line:no-non-null-assertion\n                    values: event.exception.values.map(function (value) { return (tslib_1.__assign({}, value, { stacktrace: _this._processStacktrace(value.stacktrace) })); }) }) });\n        }\n        catch (_oO) {\n            return event;\n        }\n    };\n    /** JSDoc */\n    RewriteFrames.prototype._processStacktraceEvent = function (event) {\n        try {\n            return tslib_1.__assign({}, event, { stacktrace: this._processStacktrace(event.stacktrace) });\n        }\n        catch (_oO) {\n            return event;\n        }\n    };\n    /** JSDoc */\n    RewriteFrames.prototype._processStacktrace = function (stacktrace) {\n        var _this = this;\n        return tslib_1.__assign({}, stacktrace, { frames: stacktrace && stacktrace.frames && stacktrace.frames.map(function (f) { return _this._iteratee(f); }) });\n    };\n    /**\n     * @inheritDoc\n     */\n    RewriteFrames.id = 'RewriteFrames';\n    return RewriteFrames;\n}());\nexport { RewriteFrames };\n//# sourceMappingURL=rewriteframes.js.map","import * as tslib_1 from \"tslib\";\nimport { getCurrentHub } from '@sentry/hub';\n/**\n * This calls a function on the current hub.\n * @param method function to call on hub.\n * @param args to pass to function.\n */\nfunction callOnHub(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var hub = getCurrentHub();\n    if (hub && hub[method]) {\n        // tslint:disable-next-line:no-unsafe-any\n        return hub[method].apply(hub, tslib_1.__spread(args));\n    }\n    throw new Error(\"No hub defined or \" + method + \" was not found on the hub, please open a bug report.\");\n}\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @returns The generated eventId.\n */\nexport function captureException(exception) {\n    var syntheticException;\n    try {\n        throw new Error('Sentry syntheticException');\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    return callOnHub('captureException', exception, {\n        originalException: exception,\n        syntheticException: syntheticException,\n    });\n}\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param level Define the level of the message.\n * @returns The generated eventId.\n */\nexport function captureMessage(message, level) {\n    var syntheticException;\n    try {\n        throw new Error(message);\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    return callOnHub('captureMessage', message, level, {\n        originalException: message,\n        syntheticException: syntheticException,\n    });\n}\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nexport function captureEvent(event) {\n    return callOnHub('captureEvent', event);\n}\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nexport function configureScope(callback) {\n    callOnHub('configureScope', callback);\n}\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nexport function addBreadcrumb(breadcrumb) {\n    callOnHub('addBreadcrumb', breadcrumb);\n}\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normailzed.\n */\nexport function setContext(name, context) {\n    callOnHub('setContext', name, context);\n}\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras) {\n    callOnHub('setExtras', extras);\n}\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags) {\n    callOnHub('setTags', tags);\n}\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normailzed.\n */\nexport function setExtra(key, extra) {\n    callOnHub('setExtra', key, extra);\n}\n/**\n * Set key:value that will be sent as tags data with the event.\n * @param key String key of tag\n * @param value String value of tag\n */\nexport function setTag(key, value) {\n    callOnHub('setTag', key, value);\n}\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user) {\n    callOnHub('setUser', user);\n}\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nexport function withScope(callback) {\n    callOnHub('withScope', callback);\n}\n/**\n * Calls a function on the latest client. Use this with caution, it's meant as\n * in \"internal\" helper so we don't need to expose every possible function in\n * the shim. It is not guaranteed that the client actually implements the\n * function.\n *\n * @param method The method to call on the client/client.\n * @param args Arguments to pass to the client/fontend.\n * @hidden\n */\nexport function _callOnClient(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    callOnHub.apply(void 0, tslib_1.__spread(['_invokeClient', method], args));\n}\n//# sourceMappingURL=index.js.map","import * as tslib_1 from \"tslib\";\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive, isSyntheticEvent } from './is';\nimport { Memo } from './memo';\nimport { getFunctionName, htmlTreeAsString } from './misc';\nimport { truncate } from './string';\n/**\n * Wrap a given object method with a higher-order function\n *\n * @param source An object that contains a method to be wrapped.\n * @param name A name of method to be wrapped.\n * @param replacement A function that should be used to wrap a given method.\n * @returns void\n */\nexport function fill(source, name, replacement) {\n    if (!(name in source)) {\n        return;\n    }\n    var original = source[name];\n    var wrapped = replacement(original);\n    // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n    // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof wrapped === 'function') {\n        try {\n            wrapped.prototype = wrapped.prototype || {};\n            Object.defineProperties(wrapped, {\n                __sentry_original__: {\n                    enumerable: false,\n                    value: original,\n                },\n            });\n        }\n        catch (_Oo) {\n            // This can throw if multiple fill happens on a global object like XMLHttpRequest\n            // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n        }\n    }\n    source[name] = wrapped;\n}\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object) {\n    return Object.keys(object)\n        .map(\n    // tslint:disable-next-line:no-unsafe-any\n    function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(object[key]); })\n        .join('&');\n}\n/**\n * Transforms any object into an object literal with all it's attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order to be usable by the serializer\n */\nfunction getWalkSource(value) {\n    if (isError(value)) {\n        var error = value;\n        var err = {\n            message: error.message,\n            name: error.name,\n            stack: error.stack,\n        };\n        for (var i in error) {\n            if (Object.prototype.hasOwnProperty.call(error, i)) {\n                err[i] = error[i];\n            }\n        }\n        return err;\n    }\n    if (isEvent(value)) {\n        var event_1 = value;\n        var source = {};\n        source.type = event_1.type;\n        // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n        try {\n            source.target = isElement(event_1.target)\n                ? htmlTreeAsString(event_1.target)\n                : Object.prototype.toString.call(event_1.target);\n        }\n        catch (_oO) {\n            source.target = '<unknown>';\n        }\n        try {\n            source.currentTarget = isElement(event_1.currentTarget)\n                ? htmlTreeAsString(event_1.currentTarget)\n                : Object.prototype.toString.call(event_1.currentTarget);\n        }\n        catch (_oO) {\n            source.currentTarget = '<unknown>';\n        }\n        // tslint:disable-next-line:strict-type-predicates\n        if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n            source.detail = event_1.detail;\n        }\n        for (var i in event_1) {\n            if (Object.prototype.hasOwnProperty.call(event_1, i)) {\n                source[i] = event_1;\n            }\n        }\n        return source;\n    }\n    return value;\n}\n/** Calculates bytes size of input string */\nfunction utf8Length(value) {\n    // tslint:disable-next-line:no-bitwise\n    return ~-encodeURI(value).split(/%..|./).length;\n}\n/** Calculates bytes size of input object */\nfunction jsonSize(value) {\n    return utf8Length(JSON.stringify(value));\n}\n/** JSDoc */\nexport function normalizeToSize(object, \n// Default Node.js REPL depth\ndepth, \n// 100kB, as 200kB is max payload size, so half sounds reasonable\nmaxSize) {\n    if (depth === void 0) { depth = 3; }\n    if (maxSize === void 0) { maxSize = 100 * 1024; }\n    var serialized = normalize(object, depth);\n    if (jsonSize(serialized) > maxSize) {\n        return normalizeToSize(object, depth - 1, maxSize);\n    }\n    return serialized;\n}\n/** Transforms any input value into a string form, either primitive value or a type of the input */\nfunction serializeValue(value) {\n    var type = Object.prototype.toString.call(value);\n    // Node.js REPL notation\n    if (typeof value === 'string') {\n        return value;\n    }\n    if (type === '[object Object]') {\n        return '[Object]';\n    }\n    if (type === '[object Array]') {\n        return '[Array]';\n    }\n    var normalized = normalizeValue(value);\n    return isPrimitive(normalized) ? normalized : type;\n}\n/**\n * normalizeValue()\n *\n * Takes unserializable input and make it serializable friendly\n *\n * - translates undefined/NaN values to \"[undefined]\"/\"[NaN]\" respectively,\n * - serializes Error objects\n * - filter global objects\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction normalizeValue(value, key) {\n    if (key === 'domain' && value && typeof value === 'object' && value._events) {\n        return '[Domain]';\n    }\n    if (key === 'domainEmitter') {\n        return '[DomainEmitter]';\n    }\n    if (typeof global !== 'undefined' && value === global) {\n        return '[Global]';\n    }\n    if (typeof window !== 'undefined' && value === window) {\n        return '[Window]';\n    }\n    if (typeof document !== 'undefined' && value === document) {\n        return '[Document]';\n    }\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n        return '[SyntheticEvent]';\n    }\n    // tslint:disable-next-line:no-tautology-expression\n    if (typeof value === 'number' && value !== value) {\n        return '[NaN]';\n    }\n    if (value === void 0) {\n        return '[undefined]';\n    }\n    if (typeof value === 'function') {\n        return \"[Function: \" + getFunctionName(value) + \"]\";\n    }\n    return value;\n}\n/**\n * Walks an object to perform a normalization on it\n *\n * @param key of object that's walked in current iteration\n * @param value object to be walked\n * @param depth Optional number indicating how deep should walking be performed\n * @param memo Optional Memo class handling decycling\n */\nexport function walk(key, value, depth, memo) {\n    if (depth === void 0) { depth = +Infinity; }\n    if (memo === void 0) { memo = new Memo(); }\n    // If we reach the maximum depth, serialize whatever has left\n    if (depth === 0) {\n        return serializeValue(value);\n    }\n    // If value implements `toJSON` method, call it and return early\n    // tslint:disable:no-unsafe-any\n    if (value !== null && value !== undefined && typeof value.toJSON === 'function') {\n        return value.toJSON();\n    }\n    // tslint:enable:no-unsafe-any\n    // If normalized value is a primitive, there are no branches left to walk, so we can just bail out, as theres no point in going down that branch any further\n    var normalized = normalizeValue(value, key);\n    if (isPrimitive(normalized)) {\n        return normalized;\n    }\n    // Create source that we will use for next itterations, either objectified error object (Error type with extracted keys:value pairs) or the input itself\n    var source = getWalkSource(value);\n    // Create an accumulator that will act as a parent for all future itterations of that branch\n    var acc = Array.isArray(value) ? [] : {};\n    // If we already walked that branch, bail out, as it's circular reference\n    if (memo.memoize(value)) {\n        return '[Circular ~]';\n    }\n    // Walk all keys of the source\n    for (var innerKey in source) {\n        // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n        if (!Object.prototype.hasOwnProperty.call(source, innerKey)) {\n            continue;\n        }\n        // Recursively walk through all the child nodes\n        acc[innerKey] = walk(innerKey, source[innerKey], depth - 1, memo);\n    }\n    // Once walked through all the branches, remove the parent from memo storage\n    memo.unmemoize(value);\n    // Return accumulated values\n    return acc;\n}\n/**\n * normalize()\n *\n * - Creates a copy to prevent original input mutation\n * - Skip non-enumerablers\n * - Calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializeable values (undefined/NaN/Functions) to serializable format\n * - Translates known global objects/Classes to a string representations\n * - Takes care of Error objects serialization\n * - Optionally limit depth of final output\n */\nexport function normalize(input, depth) {\n    try {\n        // tslint:disable-next-line:no-unsafe-any\n        return JSON.parse(JSON.stringify(input, function (key, value) { return walk(key, value, depth); }));\n    }\n    catch (_oO) {\n        return '**non-serializable**';\n    }\n}\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nexport function extractExceptionKeysForMessage(exception, maxLength) {\n    if (maxLength === void 0) { maxLength = 40; }\n    // tslint:disable:strict-type-predicates\n    var keys = Object.keys(getWalkSource(exception));\n    keys.sort();\n    if (!keys.length) {\n        return '[object has no keys]';\n    }\n    if (keys[0].length >= maxLength) {\n        return truncate(keys[0], maxLength);\n    }\n    for (var includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n        var serialized = keys.slice(0, includedKeys).join(', ');\n        if (serialized.length > maxLength) {\n            continue;\n        }\n        if (includedKeys === keys.length) {\n            return serialized;\n        }\n        return truncate(serialized, maxLength);\n    }\n    return '';\n}\n/**\n * Given any object, return the new object with removed keys that value was `undefined`.\n * Works recursively on objects and arrays.\n */\nexport function dropUndefinedKeys(val) {\n    var e_1, _a;\n    if (isPlainObject(val)) {\n        var obj = val;\n        var rv = {};\n        try {\n            for (var _b = tslib_1.__values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                if (typeof obj[key] !== 'undefined') {\n                    rv[key] = dropUndefinedKeys(obj[key]);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return rv;\n    }\n    if (Array.isArray(val)) {\n        return val.map(dropUndefinedKeys);\n    }\n    return val;\n}\n//# sourceMappingURL=object.js.map"],"sourceRoot":""}